<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="pisces.nasca.element">
  <resultMap id="element" type="pisces.Element">
    <id property="id" column="elmtid" />
    <result property="name" column="elmtnm" />
    <result property="type" column="elmttp" />
    <result property="remark" column="remark" />
    <result property="svgFile" column="svgfle" />
  </resultMap>
  <select id="selectAll" resultMap="element">
    select
    	obj.elmtid,
    	obj.elmtnm,
    	obj.elmttp,
    	obj.remark,
    	otp.svgfle
    from
    	m_element obj LEFT OUTER JOIN
    	m_elmttype otp ON
    		obj.elmttp = otp.elmttp
  </select>
  <select id="selectByID" resultMap="element">
    select
    	obj.elmtid,
    	obj.elmtnm,
    	obj.elmttp,
    	obj.remark,
    	otp.svgfle
    from
    	m_element obj LEFT OUTER JOIN
    	m_elmttype otp ON
    		obj.elmttp = otp.elmttp
    where
    	obj.elmtid = #{objectID}
  </select>
  <select id="selectChild" resultMap="element">
    select
    	obj.elmtid,
    	obj.elmtnm,
    	obj.elmttp,
    	obj.remark,
    	otp.svgfle
    from
    	m_element obj LEFT OUTER JOIN
    	m_elmttype otp ON
    		obj.elmttp = otp.elmttp
    where
    	obj.elmtid like concat(#{objectID}, '%')
  </select>
</mapper>